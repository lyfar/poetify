"use strict";(self.webpackChunkpoetify=self.webpackChunkpoetify||[]).push([[1748],{"./components/player/MiniPlayer/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,External:()=>External,Paused:()=>Paused,Playing:()=>Playing,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/player/MiniPlayer/index.tsx"),_mocks_tracks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./mocks/tracks.ts"),_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./redux/StoreProvider.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Player/MiniPlayer",component:___WEBPACK_IMPORTED_MODULE_1__.A,args:{},globals:{viewport:{value:"iphone14promax",isRotated:!1}},parameters:{layout:"fullscreen"},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_3__.A,{preloadedState:{player:{playbackState:{item:_mocks_tracks__WEBPACK_IMPORTED_MODULE_2__.u,device:{name:"James's iPhone"}}}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})]},Default={},Playing={decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_3__.A,{preloadedState:{player:{playbackState:{is_playing:!0,item:_mocks_tracks__WEBPACK_IMPORTED_MODULE_2__.u,device:{name:"James's iPhone"}}}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})]},Paused={decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_3__.A,{preloadedState:{player:{playbackState:{is_playing:!1,item:_mocks_tracks__WEBPACK_IMPORTED_MODULE_2__.u,device:{name:"James's iPhone"}}}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})]},External={decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_3__.A,{preloadedState:{player:{deviceId:"local-device-id",playbackState:{is_playing:!1,item:_mocks_tracks__WEBPACK_IMPORTED_MODULE_2__.u,device:{id:"external-device-id",name:"James's iPhone"}}}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})]},__namedExportsOrder=["Default","Playing","Paused","External"]},"./components/player/MiniPlayer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_FaVolumeHigh_react_icons_fa6__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("__barrel_optimize__?names=FaGithub,FaLinkedin!=!./node_modules/react-icons/fa6/index.mjs")),_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("__barrel_optimize__?names=IoIosMusicalNotes,IoIosPause,IoIosPlay!=!./node_modules/react-icons/io/index.mjs"),_components_shared_FadeInSlide__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/shared/FadeInSlide/index.tsx"),_hooks_player_usePlayerControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./hooks/player/usePlayerControls.ts"),_redux_hooks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./redux/hooks.ts"),_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./redux/slices/playerSlice.ts");const MiniPlayer=()=>{var _item_album_images_,_item_album_images,_item_album,_item_album_images_1,_item_album_images1,_item_album1;const{isExternal,item,device}=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_6__.GV)(_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_7__.Lv),{isPlaying,pause,resume}=(0,_hooks_player_usePlayerControls__WEBPACK_IMPORTED_MODULE_5__.A)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative p-2 h-14 rounded-md bg-black grid grid-cols-[1fr_2.5rem] overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute inset-0 bg-cover bg-center blur-3xl scale-125",style:{backgroundImage:`url(${null===(_item_album=item.album)||void 0===_item_album||null===(_item_album_images=_item_album.images)||void 0===_item_album_images||null===(_item_album_images_=_item_album_images[0])||void 0===_item_album_images_?void 0:_item_album_images_.url})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute inset-0 bg-white/10"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative flex gap-2 truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-cover bg-center h-full aspect-square rounded",style:{backgroundImage:`url(${null===(_item_album1=item.album)||void 0===_item_album1||null===(_item_album_images1=_item_album1.images)||void 0===_item_album_images1||null===(_item_album_images_1=_item_album_images1[0])||void 0===_item_album_images_1?void 0:_item_album_images_1.url})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-full flex flex-col gap-0.5 justify-center truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_shared_FadeInSlide__WEBPACK_IMPORTED_MODULE_4__.A,{className:"leading-5 font-funnel text-white font-medium text-sm truncate",children:item.name},item.id),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"truncate flex overflow-hidden",children:isExternal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-1.5 text-spotify-green truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FaVolumeHigh_react_icons_fa6__WEBPACK_IMPORTED_MODULE_2__.c2D,{className:"h-3 w-3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-funnel truncate",children:device.name})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-funnel text-neutral-400 text-xs truncate",children:item.artists.map(artist=>artist.name).join(", ")})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative flex mr-1 justify-end items-center",children:isPlaying?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__.ofy,{onClick:e=>{e.stopPropagation(),pause()},className:"h-7 w-7 text-white active:scale-95"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__.gLA,{onClick:e=>{e.stopPropagation(),resume()},className:"h-7 w-7 text-white active:scale-95"})})]})},__WEBPACK_DEFAULT_EXPORT__=MiniPlayer;MiniPlayer.__docgenInfo={description:"",methods:[],displayName:"MiniPlayer"}},"./components/shared/FadeInSlide/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/next/link.js")),next_link__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__),motion_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs");const FadeInSlide=({children,className,href,delay=0,duration=.5,x=40,y=0,onClick,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(motion_react__WEBPACK_IMPORTED_MODULE_3__.P.div,{className,initial:{opacity:0,x,y},animate:{opacity:1,x:0,y:0},transition:{duration,delay},onClick,...props,children:href?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{className:"hover:underline",href,children}):children}),__WEBPACK_DEFAULT_EXPORT__=FadeInSlide;FadeInSlide.__docgenInfo={description:"",methods:[],displayName:"FadeInSlide",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},href:{required:!1,tsType:{name:"string"},description:""},delay:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}},x:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"40",computed:!1}},y:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./hooks/player/usePlayerControls.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _redux_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./redux/hooks.ts"),_redux_slices_userSlice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./redux/slices/userSlice.ts"),_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./redux/slices/playerSlice.ts"),_utils_toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./utils/toast.ts"),_utils_demo__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./utils/demo.ts");const __WEBPACK_DEFAULT_EXPORT__=()=>{const dispatch=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_0__.jL)(),{isPlaying,isExternal,device,repeatState,shuffleState}=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_0__.GV)(_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.Lv),userHasPremium=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_0__.GV)(_redux_slices_userSlice__WEBPACK_IMPORTED_MODULE_1__.re),canControl=_utils_demo__WEBPACK_IMPORTED_MODULE_4__.G||userHasPremium;return{isPlaying,repeatState,shuffleState,pause:()=>{canControl?dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.v7)(device.id)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},resume:()=>{canControl?dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.U)(device.id)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},seek:position=>{canControl?dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.jF)(position)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},skipToNext:async()=>{canControl?(await dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.CH)()),isExternal&&setTimeout(()=>dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.To)()),500)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},skipToPrevious:async()=>{canControl?(await dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.wm)()),isExternal&&setTimeout(()=>dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.To)()),500)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},toggleShuffle:()=>{canControl?dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.zZ)(!shuffleState)):(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.")},toggleRepeat:()=>{if(!canControl)return void(0,_utils_toast__WEBPACK_IMPORTED_MODULE_3__.P)("Requires Spotify Premium.");let nextState;switch(repeatState){case"off":nextState="context";break;case"context":nextState="track";break;default:nextState="off"}dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.ho)(nextState))}}}},"./mocks/tracks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>trackMock});const trackMock={album:{album_type:"album",artists:[{external_urls:{spotify:"https://open.spotify.com/artist/6olE6TJLqED3rqDCT0FyPh"},href:"https://api.spotify.com/v1/artists/6olE6TJLqED3rqDCT0FyPh",id:"6olE6TJLqED3rqDCT0FyPh",name:"Nirvana",type:"artist",uri:"spotify:artist:6olE6TJLqED3rqDCT0FyPh"}],external_urls:{spotify:"https://open.spotify.com/album/5eA0qtE7Yu29XiMlwoby2G"},href:"https://api.spotify.com/v1/albums/5eA0qtE7Yu29XiMlwoby2G",id:"5eA0qtE7Yu29XiMlwoby2G",images:[{url:"https://i.scdn.co/image/ab67616d0000b2739aa37e5baca62ca6cc98d056",width:640,height:640},{url:"https://i.scdn.co/image/ab67616d00001e029aa37e5baca62ca6cc98d056",width:300,height:300},{url:"https://i.scdn.co/image/ab67616d000048519aa37e5baca62ca6cc98d056",width:64,height:64}],is_playable:!0,name:"Nevermind (30th Anniversary Super Deluxe)",release_date:"2021-11-12",release_date_precision:"day",total_tracks:75,type:"album",uri:"spotify:album:5eA0qtE7Yu29XiMlwoby2G"},artists:[{external_urls:{spotify:"https://open.spotify.com/artist/6olE6TJLqED3rqDCT0FyPh"},href:"https://api.spotify.com/v1/artists/6olE6TJLqED3rqDCT0FyPh",id:"6olE6TJLqED3rqDCT0FyPh",name:"Nirvana",type:"artist",uri:"spotify:artist:6olE6TJLqED3rqDCT0FyPh"}],disc_number:1,duration_ms:254533,explicit:!1,external_ids:{isrc:"USGF19942502"},external_urls:{spotify:"https://open.spotify.com/track/2hJ2EY0LekqGQOFoROEdCj"},href:"https://api.spotify.com/v1/tracks/2hJ2EY0LekqGQOFoROEdCj",id:"2hJ2EY0LekqGQOFoROEdCj",is_local:!1,is_playable:!0,name:"In Bloom - Remastered 2021",popularity:36,preview_url:null,track_number:2,type:"track",uri:"spotify:track:2hJ2EY0LekqGQOFoROEdCj"}},"./redux/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GV:()=>useAppSelector,jL:()=>useAppDispatch});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs");const useAppDispatch=react_redux__WEBPACK_IMPORTED_MODULE_0__.wA.withTypes(),useAppSelector=react_redux__WEBPACK_IMPORTED_MODULE_0__.d4.withTypes();react_redux__WEBPACK_IMPORTED_MODULE_0__.Pj.withTypes()},"./utils/demo.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>DEMO_MODE});const DEMO_MODE=!0},"./utils/toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>showToast});var react_toastify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-toastify/dist/index.mjs");const showToast=text=>{react_toastify__WEBPACK_IMPORTED_MODULE_0__.oR.info(text,{hideProgressBar:!0,position:"bottom-center",closeButton:!1,transition:react_toastify__WEBPACK_IMPORTED_MODULE_0__.q7,autoClose:2e3})}}}]);