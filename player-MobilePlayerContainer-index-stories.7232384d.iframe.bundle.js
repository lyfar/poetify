"use strict";(self.webpackChunkpoetify=self.webpackChunkpoetify||[]).push([[1066],{"./components/player/MiniPlayer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_FaVolumeHigh_react_icons_fa6__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("__barrel_optimize__?names=FaGithub,FaLinkedin!=!./node_modules/react-icons/fa6/index.mjs")),_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("__barrel_optimize__?names=IoIosMusicalNotes,IoIosPause,IoIosPlay!=!./node_modules/react-icons/io/index.mjs"),_components_shared_FadeInSlide__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/shared/FadeInSlide/index.tsx"),_hooks_player_usePlayerControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./hooks/player/usePlayerControls.ts"),_redux_hooks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./redux/hooks.ts"),_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./redux/slices/playerSlice.ts");const MiniPlayer=()=>{var _item_album_images_,_item_album_images,_item_album,_item_album_images_1,_item_album_images1,_item_album1;const{isExternal,item,device}=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_6__.GV)(_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_7__.Lv),{isPlaying,pause,resume}=(0,_hooks_player_usePlayerControls__WEBPACK_IMPORTED_MODULE_5__.A)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative p-2 h-14 rounded-md bg-black grid grid-cols-[1fr_2.5rem] overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute inset-0 bg-cover bg-center blur-3xl scale-125",style:{backgroundImage:`url(${null===(_item_album=item.album)||void 0===_item_album||null===(_item_album_images=_item_album.images)||void 0===_item_album_images||null===(_item_album_images_=_item_album_images[0])||void 0===_item_album_images_?void 0:_item_album_images_.url})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute inset-0 bg-white/10"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative flex gap-2 truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-cover bg-center h-full aspect-square rounded",style:{backgroundImage:`url(${null===(_item_album1=item.album)||void 0===_item_album1||null===(_item_album_images1=_item_album1.images)||void 0===_item_album_images1||null===(_item_album_images_1=_item_album_images1[0])||void 0===_item_album_images_1?void 0:_item_album_images_1.url})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-full flex flex-col gap-0.5 justify-center truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_shared_FadeInSlide__WEBPACK_IMPORTED_MODULE_4__.A,{className:"leading-5 font-funnel text-white font-medium text-sm truncate",children:item.name},item.id),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"truncate flex overflow-hidden",children:isExternal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-1.5 text-spotify-green truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FaVolumeHigh_react_icons_fa6__WEBPACK_IMPORTED_MODULE_2__.c2D,{className:"h-3 w-3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-funnel truncate",children:device.name})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-funnel text-neutral-400 text-xs truncate",children:item.artists.map(artist=>artist.name).join(", ")})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative flex mr-1 justify-end items-center",children:isPlaying?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__.ofy,{onClick:e=>{e.stopPropagation(),pause()},className:"h-7 w-7 text-white active:scale-95"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_IoIosPause_IoIosPlay_react_icons_io__WEBPACK_IMPORTED_MODULE_3__.gLA,{onClick:e=>{e.stopPropagation(),resume()},className:"h-7 w-7 text-white active:scale-95"})})]})},__WEBPACK_DEFAULT_EXPORT__=MiniPlayer;MiniPlayer.__docgenInfo={description:"",methods:[],displayName:"MiniPlayer"}},"./components/player/MobilePlayerContainer/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_dom=__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),MiniPlayer=__webpack_require__("./components/player/MiniPlayer/index.tsx"),MobilePlayer=__webpack_require__("./components/player/MobilePlayer/index.tsx"),usePlayer=__webpack_require__("./hooks/player/usePlayer.ts"),hooks=__webpack_require__("./redux/hooks.ts"),playerSlice=__webpack_require__("./redux/slices/playerSlice.ts");const MobilePlayerContainer=()=>{(0,usePlayer.A)();const{isPlaying=!1,isActive=!1,isPrivate=!1,isPodcast=!1,item}=(0,hooks.GV)(playerSlice.Lv),[isExpanded,setIsExpanded]=(0,react.useState)(!1);return!isPlaying&&!isActive||isActive&&!isPlaying&&!item||isPodcast||isPrivate?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{onClick:()=>setIsExpanded(!0),className:"fixed left-0 right-0 bottom-20 px-2 z-40",children:(0,jsx_runtime.jsx)(MiniPlayer.A,{})}),(0,react_dom.createPortal)((0,jsx_runtime.jsx)(AnimatePresence.N,{children:isExpanded&&(0,jsx_runtime.jsx)(proxy.P.div,{className:"lg:hidden fixed inset-0 z-50 w-screen min-h-[100dvh] overflow-hidden",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:400,damping:50},children:(0,jsx_runtime.jsx)(MobilePlayer.A,{onClose:()=>setIsExpanded(!1)})},"mobile-player")}),document.body)]})},player_MobilePlayerContainer=MobilePlayerContainer;MobilePlayerContainer.__docgenInfo={description:"",methods:[],displayName:"MobilePlayerContainer"};var tracks=__webpack_require__("./mocks/tracks.ts"),StoreProvider=__webpack_require__("./redux/StoreProvider.tsx");const index_stories={title:"Player/MobilePlayerContainer",component:player_MobilePlayerContainer,args:{onClose:()=>{}},globals:{viewport:{value:"iphone14promax",isRotated:!1}},parameters:{layout:"fullscreen"},decorators:[Story=>(0,jsx_runtime.jsx)(StoreProvider.A,{preloadedState:{player:{playbackState:{is_playing:!0,repeat_state:"off",item:tracks.u,progress_ms:14e4,device:{name:"James's iPhone"}}}},children:(0,jsx_runtime.jsx)("div",{className:"w-screen overflow-hidden",children:(0,jsx_runtime.jsx)(Story,{})})})]},Default={},__namedExportsOrder=["Default"]},"./hooks/player/usePlayer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_redux_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./redux/hooks.ts"),_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./redux/slices/playerSlice.ts");const __WEBPACK_DEFAULT_EXPORT__=()=>{const dispatch=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_1__.jL)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.U5)("demo-device")),dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__._1)(!0)),dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.To)());const intervalId=setInterval(()=>{dispatch((0,_redux_slices_playerSlice__WEBPACK_IMPORTED_MODULE_2__.To)())},1e3);return()=>{clearInterval(intervalId)}},[dispatch])}}}]);