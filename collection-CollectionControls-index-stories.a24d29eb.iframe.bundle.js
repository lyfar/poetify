"use strict";(self.webpackChunkpoetify=self.webpackChunkpoetify||[]).push([[413],{"./components/collection/CollectionControls/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/collection/CollectionControls/index.tsx"),_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./redux/StoreProvider.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Collection/CollectionControls",component:___WEBPACK_IMPORTED_MODULE_1__.A,args:{contextUri:"test-context-uri"},parameters:{layout:"centered"},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_2__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})]},Default={},__namedExportsOrder=["Default"]},"./components/collection/CollectionControls/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>collection_CollectionControls});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),fa6=__webpack_require__("__barrel_optimize__?names=FaGithub,FaLinkedin!=!./node_modules/react-icons/fa6/index.mjs"),pi=__webpack_require__("__barrel_optimize__?names=PiRepeatBold,PiRepeatOnceBold,PiShuffleBold!=!./node_modules/react-icons/pi/index.mjs"),ControlIcon=__webpack_require__("./components/shared/ControlIcon/index.tsx"),hooks=__webpack_require__("./redux/hooks.ts"),playerSlice=__webpack_require__("./redux/slices/playerSlice.ts"),userSlice=__webpack_require__("./redux/slices/userSlice.ts"),toast=__webpack_require__("./utils/toast.ts");const player_useCollectionPlayback=contextUri=>{const dispatch=(0,hooks.jL)(),{deviceId:localDeviceId}=(0,hooks.GV)(state=>state.player),{isPlaying,isActive,isExternal,shuffleState,context,device}=(0,hooks.GV)(playerSlice.Lv),userHasPremium=(0,hooks.GV)(userSlice.re);var _device_id;const deviceId=null!==(_device_id=null==device?void 0:device.id)&&void 0!==_device_id?_device_id:localDeviceId,isCurrentContext=(null==context?void 0:context.uri)===contextUri,isPlayingCollection=isPlaying&&isCurrentContext,isActiveCollection=isActive&&isCurrentContext,handlePlay=(0,react.useCallback)(async()=>{userHasPremium?(isActiveCollection?await dispatch((0,playerSlice.U)(deviceId)):await dispatch((0,playerSlice.ZH)({deviceId,contextUri})),isExternal&&setTimeout(()=>dispatch((0,playerSlice.To)()),500)):(0,toast.P)("Requires Spotify Premium.")},[userHasPremium,isActiveCollection,deviceId,contextUri,isExternal,dispatch]),handlePause=(0,react.useCallback)(()=>{userHasPremium?dispatch((0,playerSlice.v7)(deviceId)):(0,toast.P)("Requires Spotify Premium.")},[userHasPremium,deviceId,dispatch]),toggleShuffle=(0,react.useCallback)(()=>{userHasPremium?dispatch((0,playerSlice.zZ)(!shuffleState)):(0,toast.P)("Requires Spotify Premium.")},[userHasPremium,shuffleState,dispatch]);return{isPlayingCollection,isActiveCollection,shuffleState,play:handlePlay,pause:handlePause,toggleShuffle}},CollectionControls=({contextUri})=>{const{isPlayingCollection,isActiveCollection,shuffleState,play,pause,toggleShuffle}=player_useCollectionPlayback(contextUri);return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,jsx_runtime.jsx)(ControlIcon.A,{title:isPlayingCollection?"Pause":"Play",onClick:isPlayingCollection?pause:play,Icon:isPlayingCollection?fa6.ihP:fa6.Yay,inactiveClassName:"text-spotify-green",size:"w-12 h-12 md:w-16 md:h-16"}),(0,jsx_runtime.jsx)(ControlIcon.A,{title:(shuffleState?"Disable":"Enable")+" shuffle",onClick:toggleShuffle,Icon:pi.dUx,size:"w-7 h-7 md:w-10 md:h-10",activeClassName:"text-spotify-green",inactiveClassName:"text-neutral-400 hover:text-white",isActive:shuffleState&&isActiveCollection})]})},collection_CollectionControls=CollectionControls;CollectionControls.__docgenInfo={description:"",methods:[],displayName:"CollectionControls",props:{contextUri:{required:!0,tsType:{name:"string"},description:""}}}}}]);